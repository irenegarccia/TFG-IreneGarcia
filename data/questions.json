{
  "categories": [
    {
      "category_code": "physical_attacks",
      "title": "Ataques Físicos",
      "order_index": 1,
      "subcategories": [
        {
          "subcategory_code": "physical_usb",
          "title": "Dispositivos maliciosos",
          "order_index": 1,
          "challenges": {
            "pre": [
              {
                "title": "Dispositivos maliciosos",
                "question": null,
                "correct_answer": null,
                "options": [],
                "points": 10,
                "is_training": 1,
                "is_practical": 1,
                "content": "<div class=\"bg-dark rounded p-3\" id=\"practical-wrapper\" data-challenge-id=\"{{challenge.id}}\" data-redirect-url=\"{{redirect_url}}\">\n\n  <div class=\"mb-3 text-white\">\n   <strong> Has encontrado un USB tirado en el suelo y decides conectarlo a tu ordenador para ver su contenido.\n    <br>\n   ¿Qué riesgos ves en esta situación y qué harías para actuar de forma segura?\n </strong> </div>\n\n  <div class=\"mb-3\">\n    <img src=\"/img/usbmalicioso.png\" class=\"img-fluid rounded\" style=\"max-height: 320px; object-fit: contain; width: 100%;\" alt=\"USB encontrado en el suelo\">\n  </div>\n\n  <div class=\"mb-3\">\n    <label class=\"form-label text-white\">Introduce a continuación tu respuesta</label>\n    <textarea id=\"img_answer\" class=\"form-control bg-secondary text-white border-0\" rows=\"4\" placeholder=\"Escribe aquí tu respuesta...\"></textarea>\n  </div>\n\n  <div class=\"d-flex gap-2 flex-wrap\">\n    <button id=\"img_send\" class=\"btn btn-primary\">Enviar</button>\n  </div>\n\n  <div id=\"img_msg\" class=\"mt-3\"></div>\n</div>\n\n<script>\n(function(){\n  const wrapper = document.getElementById('practical-wrapper');\n  const btn = document.getElementById('img_send');\n  const answerEl = document.getElementById('img_answer');\n  const msg = document.getElementById('img_msg');\n\n  function csrf(){\n    const m = document.querySelector('meta[name=\\\"csrf-token\\\"]');\n    return m ? m.getAttribute('content') : '';\n  }\n\n  function show(ok, text){\n    msg.innerHTML = `<div class=\\\"alert ${ok ? 'alert-success' : 'alert-danger'} mb-0\\\">${text}</div>`;\n  }\n\n  btn.addEventListener('click', async () => {\n    const challengeId = wrapper ? wrapper.dataset.challengeId : null;\n    const redirectUrl = (wrapper && wrapper.dataset.redirectUrl) ? wrapper.dataset.redirectUrl : '/panel';\n    const answer = (answerEl.value || '').trim();\n\n    if (!answer){\n      show(false, 'Escribe una respuesta antes de enviar.');\n      return;\n    }\n\n    btn.disabled = true;\n    answerEl.disabled = true;\n\n    try{\n      const res = await fetch(`/challenge/${challengeId}/complete-info`, {\n        method: 'POST',\n        credentials: 'same-origin',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-CSRFToken': csrf()\n        },\n        body: JSON.stringify({ answer })\n      });\n\n      const data = await res.json();\n      if (!data.ok){\n        show(false, data.error || 'No se pudo guardar el reto.');\n        btn.disabled = false;\n        answerEl.disabled = false;\n        return;\n      }\n\n      show(true, 'Reto guardado. Redirigiendo...');\n      window.location.href = redirectUrl;\n    }catch(e){\n      show(false, 'Error de red o servidor.');\n      btn.disabled = false;\n      answerEl.disabled = false;\n    }\n  });\n})();\n</script>",
                "order_index": 1
              },

              {
                "title": "Dispositivos maliciosos",
                "question": "¿Qué es un USB malicioso?",
                "correct_answer": "Un USB que puede ejecutar ataques o acciones no deseadas",
                "options": [
                  "Un USB que puede ejecutar ataques o acciones no deseadas",
                  "Un USB normal solo para almacenar archivos",
                  "Un USB que está roto"
                ],
                "points": 10,
                "is_training": 1,
                "is_practical": 0,
                "content": null,
                "order_index": 4
              },
              {
                "title": "Dispositivos maliciosos",
                "question": "¿A través de qué medio consideras que se puede propagar un malware?",
                "correct_answer": "Todas las anteriores",
                "options": [
                  "Dispositivos usb u otros dispositivos externos",
                  "Archivos adjuntos en correos electrónicos",
                  "Enlaces, descargas o aplicaciones obtenidas desde páginas web o internet",
                  "Todas las anteriores"
                ],
                "points": 10,
                "is_training": 1,
                "is_practical": 0,
                "content": null,
                "order_index": 2
              },
              {
                "title": "Dispositivos maliciosos",
                "question": "¿Por qué los dispositivos USB pueden representar un riesgo de seguridad?",
                "correct_answer": "Porque pueden ejecutar código malicioso al conectarse a un dispositivo",
                "options": [
                  "Porque se pueden romper",
                  "Porque almacenan muchos archivos",
                  "Porque ralentizan el sistema",
                  "Porque pueden ejecutar código malicioso al conectarse a un dispositivo"
                ],
                "points": 10,
                "is_training": 1,
                "is_practical": 0,
                "content": null,
                "order_index": 3
              }
            ],
            "post": [
              {
                "title": "Dispositivos maliciosos",
                "question": "Ante la aparición de un USB de origen desconocido, ¿cuál es la actuación más adecuada desde el punto de vista de la seguridad?",
                "correct_answer": "No conectarlo y comunicarlo siguiendo los procedimientos establecidos",
                "options": [
                  "Conectarlo para identificar su contenido",
                  "Formatearlo antes de utilizarlo",
                  "No conectarlo y comunicarlo siguiendo los procedimientos establecidos"
                ],
                "points": 10,
                "is_training": 0,
                "is_practical": 0,
                "content": null,
                "order_index": 1
              }
            ]
          }
        },
        {
          "subcategory_code": "physical_loss",
          "title": "Robo o pérdida de dispositivos",
          "order_index": 2,
          "challenges": {
            "pre": [
              {
                "title": "Robo o pérdida de dispositivos",
                "question": "¿Qué deberías hacer primero si pierdes el móvil?",
                "correct_answer": "Bloquearlo/localizarlo y cambiar contraseñas importantes",
                "options": [
                  "No hacer nada",
                  "Comprar otro móvil",
                  "Apagar el Wi-Fi y esperar",
                  "Bloquearlo/localizarlo y cambiar contraseñas importantes"
                ],
                "points": 10,
                "is_training": 1,
                "is_practical": 0,
                "content": null,
                "order_index": 1
              },
              {
                "title": "Robo o pérdida de dispositivos",
                "question": "¿Por qué la pérdida de un dispositivo puede suponer un riesgo para la seguridad de la información?",
                "correct_answer": "Porque puede permitir el acceso no autorizado a datos personales",
                "options": [
                  "Porque el dispositivo deja de funcionar",
                  "Porque puede permitir el acceso no autorizado a datos personales",
                  "Porque se pierde la conexión a Internet",
                  "Porque obliga a comprar un dispositivo nuevo"
                ],
                "points": 10,
                "is_training": 1,
                "is_practical": 0,
                "content": null,
                "order_index": 2
              },
              {
                "title": "Robo o pérdida de dispositivos",
                "question": "¿Qué información suele estar en mayor riesgo cuando se pierde un dispositivo sin protección?",
                "correct_answer": "Datos personales, credenciales y acceso a aplicaciones",
                "options": [
                  "Datos personales, credenciales y acceso a aplicaciones",
                  "Únicamente las fotografías",
                  "Solo los contactos de la agenda",
                  "El sistema operativo del dispositivo"
                ],
                "points": 10,
                "is_training": 1,
                "is_practical": 0,
                "content": null,
                "order_index": 3
              }
            ],
            "post": [
              {
                "title": "Robo o pérdida de dispositivos",
                "question": "Tras la pérdida de un dispositivo móvil, ¿qué medida contribuye de forma más efectiva a la protección de las cuentas asociadas?",
                "correct_answer": "Cambiar las contraseñas y cerrar las sesiones activas",
                "options": [
                  "Esperar a recuperar el dispositivo",
                  "Cambiar las contraseñas y cerrar las sesiones activas",
                  "Publicar el incidente en redes sociales",
                  "No realizar ninguna acción inmediata"
                ],
                "points": 10,
                "is_training": 0,
                "is_practical": 0,
                "content": null,
                "order_index": 1
              }
            ]
          }
        },
        {
          "subcategory_code": "physical_nfc",
          "title": "Pagos contactless y riesgos NFC",
          "order_index": 3,
          "challenges": {
            "pre": [
              {
                "title": "Pagos contactless y riesgos NFC",
                "question": null,
                "correct_answer": null,
                "options": [],
                "points": 10,
                "is_training": 1,
                "is_practical": 1,
                "content": "<div class=\"bg-dark rounded p-3\" id=\"practical-wrapper\" data-challenge-id=\"{{challenge.id}}\" data-redirect-url=\"{{redirect_url}}\">\n\n  <div class=\"mb-3 text-white\">\n   <strong> Te encuentras en un lugar con mucha gente y llevas tu tarjeta contactless o el móvil con NFC activado.\n    <br>\n   ¿Qué riesgos ves en esta situación y qué harías para reducirlos?\n </strong> </div>\n\n  <div class=\"mb-3\">\n    <img src=\"/img/nfc.png\" class=\"img-fluid rounded\" style=\"max-height: 320px; object-fit: contain; width: 100%;\" alt=\"Riesgos NFC / contactless\">\n  </div>\n\n  <div class=\"mb-3\">\n    <label class=\"form-label text-white\">Introduce a continuación tu respuesta</label>\n    <textarea id=\"img_answer\" class=\"form-control bg-secondary text-white border-0\" rows=\"4\" placeholder=\"Escribe aquí tu respuesta...\"></textarea>\n  </div>\n\n  <div class=\"d-flex gap-2 flex-wrap\">\n    <button id=\"img_send\" class=\"btn btn-primary\">Enviar</button>\n  </div>\n\n  <div id=\"img_msg\" class=\"mt-3\"></div>\n</div>\n\n<script>\n(function(){\n  const wrapper = document.getElementById('practical-wrapper');\n  const btn = document.getElementById('img_send');\n  const answerEl = document.getElementById('img_answer');\n  const msg = document.getElementById('img_msg');\n\n  function csrf(){\n    const m = document.querySelector('meta[name=\\\"csrf-token\\\"]');\n    return m ? m.getAttribute('content') : '';\n  }\n\n  function show(ok, text){\n    msg.innerHTML = `<div class=\\\"alert ${ok ? 'alert-success' : 'alert-danger'} mb-0\\\">${text}</div>`;\n  }\n\n  btn.addEventListener('click', async () => {\n    const challengeId = wrapper ? wrapper.dataset.challengeId : null;\n    const redirectUrl = (wrapper && wrapper.dataset.redirectUrl) ? wrapper.dataset.redirectUrl : '/panel';\n    const answer = (answerEl.value || '').trim();\n\n    if (!answer){\n      show(false, 'Escribe una respuesta antes de enviar.');\n      return;\n    }\n\n    btn.disabled = true;\n    answerEl.disabled = true;\n\n    try{\n      const res = await fetch(`/challenge/${challengeId}/complete-info`, {\n        method: 'POST',\n        credentials: 'same-origin',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-CSRFToken': csrf()\n        },\n        body: JSON.stringify({ answer })\n      });\n\n      const data = await res.json();\n      if (!data.ok){\n        show(false, data.error || 'No se pudo guardar el reto.');\n        btn.disabled = false;\n        answerEl.disabled = false;\n        return;\n      }\n\n      show(true, 'Reto guardado. Redirigiendo...');\n      window.location.href = redirectUrl;\n    }catch(e){\n      show(false, 'Error de red o servidor.');\n      btn.disabled = false;\n      answerEl.disabled = false;\n    }\n  });\n})();\n</script>",
                "order_index": 1
              },
              {
                "title": "Pagos contactless y riesgos NFC",
                "question": "¿Qué medida ayuda a reducir el riesgo de NFC/contactless?",
                "correct_answer": "Desactivar NFC cuando no se use",
                "options": [
                  "Desactivar NFC cuando no se use",
                  "Dejar NFC siempre activado",
                  "Usar un PIN débil",
                  "Compartir la tarjeta con otras personas"
                ],
                "points": 10,
                "is_training": 1,
                "is_practical": 0,
                "content": null,
                "order_index": 2
              },
              {
                "title": "Pagos contactless y riesgos NFC",
                "question": "¿Cuál de las siguientes opciones es una buena prática para la protección de los pagos contactless?",
                "correct_answer": "Establecer un límite bajo en la tarjeta de crédito para evitar cobros grandes en caso de pérdida del dispositivo",
                "options": [
                  "Comprar un dispositivo nuevo",
                  "Pedir una tarjeta de crédito nueva",
                  "Establecer un límite bajo en la tarjeta de crédito para evitar cobros grandes en caso de pérdida del dispositivo"
                ],
                "points": 10,
                "is_training": 1,
                "is_practical": 0,
                "content": null,
                "order_index": 2
              }
            ],
            "post": [
              {
                "title": "Pagos contactless y riesgos NFC",
                "question": "¿Cuál es una buena práctica de seguridad en el uso de sistemas de pago contactless?",
                "correct_answer": "Desactivar la función NFC cuando no se utilice y revisar periódicamente los movimientos",
                "options": [
                  "Mantener el NFC activado permanentemente",
                  "Desactivar la función NFC cuando no se utilice y revisar periódicamente los movimientos",
                  "Compartir el PIN con personas de confianza",
                  "Realizar pagos únicamente en redes Wi-Fi públicas"
                ],
                "points": 10,
                "is_training": 0,
                "is_practical": 0,
                "content": null,
                "order_index": 1
              }
            ]
          }
        }
      ]
    },

    {
      "category_code": "credential_management",
      "title": "Gestión de Credenciales",
      "order_index": 2,
      "subcategories": [
        {
          "subcategory_code": "cred_passwords",
          "title": "Contraseñas seguras",
          "order_index": 2,
          "challenges": {
            "pre": [
              {
                "title": "Contraseñas seguras",
                "question": null,
                "correct_answer": null,
                "options": [],
                "points": 10,
                "is_training": 1,
                "is_practical": 1,
                "content":"<div class='bg-dark rounded p-3'><div class='alert alert-info mb-3'><b>Privacidad:</b> los datos que introduzcas a continuación <b>no se guardan en ningún sitio</b>. Se usan solo con fin <b>educativo</b>.</div><form id='pp_form'><div class='row g-2'><div class='col-12 col-md-6'><label class='form-label text-white'>¿Tienes mascotas?</label><select id='pp_has_pets' class='form-select bg-secondary text-white border-0'><option value='no' selected>No</option><option value='si'>Sí</option></select></div><div class='col-12 col-md-6' id='pp_pets_box' style='display:none;'><label class='form-label text-white'>Nombres de mascotas (separados por comas)</label><input id='pp_pets' class='form-control bg-secondary text-white border-0' placeholder='luna, coco'></div><div class='col-12 col-md-6'><label class='form-label text-white'>¿Tienes hijos?</label><select id='pp_has_kids' class='form-select bg-secondary text-white border-0'><option value='no' selected>No</option><option value='si'>Sí</option></select></div><div class='col-12 col-md-6' id='pp_kids_box' style='display:none;'><label class='form-label text-white'>Nombres de hijos (separados por comas)</label><input id='pp_kids' class='form-control bg-secondary text-white border-0' placeholder='maria, lucas'></div><div class='col-12 col-md-6'><label class='form-label text-white'>¿Cuál es tu ciudad o pueblo?</label><input id='pp_city' class='form-control bg-secondary text-white border-0' placeholder='madrid'></div><div class='col-12 col-md-6'><label class='form-label text-white'>¿En qué año naciste? (YYYY)</label><input id='pp_year' class='form-control bg-secondary text-white border-0' inputmode='numeric' placeholder='1999'></div><div class='col-12 col-md-6'><label class='form-label text-white'>¿Cuál es tu número favorito?</label><input id='pp_num' class='form-control bg-secondary text-white border-0' inputmode='numeric' placeholder='7'></div><div class='col-12 col-md-6'><label class='form-label text-white'>¿Quién es tu cantante favorito?</label><input id='pp_singer' class='form-control bg-secondary text-white border-0' placeholder='aitana'></div><div class='col-12 col-md-6'><label class='form-label text-white'>¿Te gusta el fútbol?</label><select id='pp_like_football' class='form-select bg-secondary text-white border-0'><option value='no' selected>No</option><option value='si'>Sí</option></select></div><div class='col-12 col-md-6' id='pp_team_box' style='display:none;'><label class='form-label text-white'>¿De qué equipo eres?</label><input id='pp_team' class='form-control bg-secondary text-white border-0' placeholder='real madrid'></div></div><div class='d-flex gap-2 flex-wrap mt-3'><button type='submit' class='btn btn-primary'>Generar lista</button></div></form><div id='pp_out' class='mt-3' style='display:none;'><div class='alert alert-warning mb-3'><b>Ojo:</b> si tu contraseña se parece a alguna de estas, es <b>muy fácil</b> de adivinar. Mejor: larga, única y con mezcla de caracteres.</div><div id='pp_grid' class='row g-2'></div><div class='d-flex gap-2 flex-wrap mt-3'><button id='pp_finish' class='btn btn-success'>Terminar reto</button></div></div><div id='pp_err' class='mt-3'></div></div><script>(function(){const form=document.getElementById('pp_form');const out=document.getElementById('pp_out');const grid=document.getElementById('pp_grid');const err=document.getElementById('pp_err');const finish=document.getElementById('pp_finish');const hasPets=document.getElementById('pp_has_pets');const petsBox=document.getElementById('pp_pets_box');const pets=document.getElementById('pp_pets');const hasKids=document.getElementById('pp_has_kids');const kidsBox=document.getElementById('pp_kids_box');const kids=document.getElementById('pp_kids');const likeFootball=document.getElementById('pp_like_football');const teamBox=document.getElementById('pp_team_box');const team=document.getElementById('pp_team');function csrf(){const m=document.querySelector('meta[name=\\\"csrf-token\\\"]');return m?m.getAttribute('content'):'';}function showErr(msg){err.innerHTML=`<div class='alert alert-danger mb-0'>${msg}</div>`;}function toggle(){petsBox.style.display=(hasPets.value==='si')?'block':'none';if(hasPets.value!=='si')pets.value='';kidsBox.style.display=(hasKids.value==='si')?'block':'none';if(hasKids.value!=='si')kids.value='';teamBox.style.display=(likeFootball.value==='si')?'block':'none';if(likeFootball.value!=='si')team.value='';}hasPets.addEventListener('change',toggle);hasKids.addEventListener('change',toggle);likeFootball.addEventListener('change',toggle);toggle();form.addEventListener('submit',async(e)=>{e.preventDefault();err.innerHTML='';grid.innerHTML='';const payload={pets:(hasPets.value==='si'?pets.value:''),kids:(hasKids.value==='si'?kids.value:''),city:document.getElementById('pp_city').value||'',birth_year:document.getElementById('pp_year').value||'',fav_number:document.getElementById('pp_num').value||'',singer:document.getElementById('pp_singer').value||'',likes_football:likeFootball.value||'no',team:(likeFootball.value==='si'?team.value:'')};try{const res=await fetch('/api/personal-pw',{method:'POST',credentials:'same-origin',headers:{'Content-Type':'application/json','X-CSRFToken':csrf()},body:JSON.stringify(payload)});const data=await res.json();if(!data.ok){showErr(data.error||'No se pudo generar la lista.');return;}const list=(data.passwords||[]).slice(0,30);if(list.length===0){showErr('No se pudo generar ninguna combinación.');return;}for(let i=0;i<list.length;i++){const col=document.createElement('div');col.className='col-12 col-md-6';col.innerHTML=`<div class='bg-secondary rounded p-2 text-white' style='word-break:break-all;'>${list[i]}</div>`;grid.appendChild(col);}form.style.display='none';out.style.display='block';}catch(_){showErr('Error de red o servidor.');}});finish.addEventListener('click',async()=>{const wrapper=document.getElementById('practical-wrapper');const challengeId=wrapper?wrapper.dataset.challengeId:null;const redirectUrl=wrapper&&wrapper.dataset.redirectUrl?wrapper.dataset.redirectUrl:'/panel';if(!challengeId){window.location.href=redirectUrl;return;}try{await fetch(`/challenge/${challengeId}/complete-info`,{method:'POST',credentials:'same-origin',headers:{'Content-Type':'application/json','X-CSRFToken':csrf()}});}catch(_){}window.location.href=redirectUrl;});})();</script>",
                "order_index": 1
              },
              {
                "title": "Contraseñas seguras",
                "question": "¿Utilizas contraseñas complejas (mezcla de mayúsculas, minúsculas, números y símbolos)?",
                "correct_answer": "Utilizo letras en mayúsculas y minúsculas, números y símbolos",
                "options": [
                  "Utilizo solo letras minúsculas",
                  "Utilizo letras y números",
                  "Utilizo letras en mayúsculas y minúsculas con números",
                  "Utilizo letras en mayúsculas y minúsculas, números y símbolos"
                ],
                "points": 10,
                "is_training": 1,
                "is_practical": 0,
                "content": null,
                "order_index": 2
              },
              {
                "title": "Contraseñas seguras",
                "question": "¿Cuál es la longitud media de tus contraseñas?",
                "correct_answer": "Más de 8 caracteres",
                "options": [
                  "Menos de 6 caracteres",
                  "Entre 6 y 8 caracteres",
                  "Más de 8 caracteres"
                ],
                "points": 10,
                "is_training": 1,
                "is_practical": 0,
                "content": null,
                "order_index":3
              },
              {
                "title": "Contraseñas seguras",
                "question": "Si utilizas números en tu contraseña, ¿esos números tienen alguna relación contigo?",
                "correct_answer": "Números elegidos al azar",
                "options": [
                  "Fechas personales (nacimiento, aniversario, etc.)",
                  "Números relacionados con gustos o preferencias",
                  "Números elegidos al azar",
                  "No utilizo números en mis contraseñas"
                ],
                "points": 10,
                "is_training": 1,
                "is_practical": 0,
                "content": null,
                "order_index": 4
              },
              {
                "title": "Contraseñas seguras",
                "question": "Si sueles modificar tus contraseñas, ¿qué reglas utilizas al hacerlo?",
                "correct_answer": "No utilizo reglas de transformación, creo una nueva contraseña completamente diferente",
                "options": [
                  "Añadir algunos números, mayúsculas o símbolos",
                  "No modifico nunca mi contraseña, tengo una y es la que utilizo siempre",
                  "No utilizo reglas de transformación, creo una nueva contraseña completamente diferente"
                ],
                "points": 10,
                "is_training": 1,
                "is_practical": 0,
                "content": null,
                "order_index": 5
              }
            ],
            "post": [
              {
                "title": "Contraseñas seguras",
                "question": "¿Qué práctica contribuye de forma más efectiva a mejorar la seguridad de las contraseñas?",
                "correct_answer": "Utilizar contraseñas únicas y apoyarse en un gestor de contraseñas",
                "options": [
                  "Reutilizar la misma contraseña en varios servicios",
                  "Utilizar contraseñas únicas y apoyarse en un gestor de contraseñas",
                  "Anotarlas en un documento sin protección",
                  "Usar únicamente datos personales"
                ],
                "points": 10,
                "is_training": 0,
                "is_practical": 0,
                "content": null,
                "order_index": 1
              },
              {
                "title": "Contraseñas seguras",
                "question": "¿Cuál de las siguientes es una buena práctica en la creación de contraseñas seguras?",
                "correct_answer": "Generar una contraseña completamente nueva",
                "options": [
                  "Reutilizar una contraseña ya existente",
                  "Modificar una contraseña anterior",
                  "Generar una contraseña completamente nueva"
                ],
                "points": 10,
                "is_training": 1,
                "is_practical": 0,
                "content": null,
                "order_index": 2
              }
            ]
          }
        },
        {
          "subcategory_code": "cred_managers",
          "title": "Gestores de contraseñas",
          "order_index": 2,
          "challenges": {
            "pre": [
              {
                "title": "Gestores de contraseñas",
                "question": "¿Qué es un gestor de contraseñas?",
                "correct_answer": "Una herramienta para guardar contraseñas de forma segura",
                "options": [
                  "Un antivirus",
                  "Una VPN",
                  "Una herramienta para guardar contraseñas de forma segura"
                ],
                "points": 10,
                "is_training": 1,
                "is_practical": 0,
                "content": null,
                "order_index": 1
              },
              {
                "title": "Gestores de contraseñas",
                "question": "¿Usas algún gestor de contraseñas?",
                "correct_answer": "Sí, utilizo un gestor de contraseñas",
                "options": [
                  "Sí, utilizo un gestor de contraseñas",
                  "No, pero sé lo que es y para qué sirve",
                  "No, no sé exactamente qué es un gestor de contraseñas"
                ],
                "points": 10,
                "is_training": 1,
                "is_practical": 0,
                "content": null,
                "order_index": 3
              },
              {
                "title": "Gestores de contraseñas",
                "question": "¿Usas la misma contraseña para distintos portales, sistemas y aplicaciones?",
                "correct_answer": "Contraseñas diferentes para cada servicio",
                "options": [
                  "Sí, la misma en todas",
                  "La misma con pequeñas variaciones",
                  "Contraseñas diferentes para cada servicio"
                ],
                "points": 10,
                "is_training": 1,
                "is_practical": 0,
                "content": null,
                "order_index": 4
              },             
              {
                "title": "Número de contraseñas",
                "question": "¿Cuántas contraseñas diferentes mantienes actualmente?",
                "correct_answer": "Más de tres contraseñas",
                "options": [
                  "Una sola contraseña",
                  "Dos o tres contraseñas",
                  "Más de tres contraseñas"
                ],
                "points": 10,
                "is_training": 1,
                "is_practical": 0,
                "content": null,
                "order_index": 5
              }
            ],
            "post": [
              {
                "title": "Gestores de contraseñas",
                "question": "¿Cuál es el principal beneficio del uso de un gestor de contraseñas?",
                "correct_answer": "Permitir el uso de contraseñas robustas y únicas sin necesidad de memorizarlas",
                "options": [
                  "Permitir el uso de contraseñas robustas y únicas sin necesidad de memorizarlas",
                  "Eliminar automáticamente el malware",
                  "Evitar la pérdida del dispositivo"
                ],
                "points": 10,
                "is_training": 0,
                "is_practical": 0,
                "content": null,
                "order_index": 1
              },             
              {
                "title": "Gestores de contraseñas",
                "question": "¿Para qué sirven los gestores de contraseñas?",
                "correct_answer": "Para guardar contraseñas de forma segura y no tener que recordarlas todas",
                "options": [
                  "Para guardar contraseñas de forma segura y no tener que recordarlas todas",
                  "Para guardar contraseñas sin ningún tipo de protección",
                  "Para usar la misma contraseña en varias cuentas",
                  "Para acceder a las cuentas sin necesidad de contraseña"
                ],
                "points": 10,
                "is_training": 1,
                "is_practical": 0,
                "content": null,
                "order_index": 2
              }
            ]
          }
        },
        {
          "subcategory_code": "cred_leaks",
          "title": "Filtración de credenciales",
          "order_index": 3,
          "challenges": {
            "pre": [
              {
                "title": "Comprobar contraseña con Have I Been Pwned",
                "question": null,
                "correct_answer": null,
                "options": [],
                "points": 10,
                "is_training": 1,
                "is_practical": 1,
                "content": "<div class='bg-dark rounded p-3'><p class='mb-2 text-white-50'>Escribe una contraseña de prueba y comprueba si aparece en brechas.</p><div class='mb-3'><label class='form-label text-white'>Contraseña</label><input id='pw_input' type='password' class='form-control bg-secondary text-white border-0' placeholder='Introduce una contraseña'></div><div class='d-flex gap-2 flex-wrap'><button id='pw_btn' class='btn btn-primary'>Comprobar</button><button id='pw_finish' class='btn btn-success' disabled>Finalizar reto</button></div><div id='pw_result' class='mt-3'></div><div id='pw_status' class='mt-2 text-white-50 small'></div></div><script>(function(){const btn=document.getElementById('pw_btn');const finish=document.getElementById('pw_finish');const input=document.getElementById('pw_input');const result=document.getElementById('pw_result');const status=document.getElementById('pw_status');let lastCheck=null;function csrf(){const m=document.querySelector('meta[name=\\\"csrf-token\\\"]');return m?m.getAttribute('content'):'';}function alertBox(ok,msg){return `<div class=\\\"alert ${ok?'alert-success':'alert-warning'} mb-2\\\">${msg}</div>`;}btn.addEventListener('click',async()=>{if(btn.disabled)return;const pw=(input.value||'').trim();result.innerHTML='';if(!pw){result.innerHTML=alertBox(false,'Escribe una contraseña primero.');return;}btn.disabled=true;input.disabled=true;try{const res=await fetch('/api/pwned-check',{method:'POST',credentials:'same-origin',headers:{'Content-Type':'application/json','X-CSRFToken':csrf()},body:JSON.stringify({password:pw})});const data=await res.json();if(!data.ok){result.innerHTML=alertBox(false,data.error||'Error');return;}lastCheck={pwned_count:data.pwned_count,password_length:data.length,length_ok:data.length>=12,has_upper:data.has_upper,has_lower:data.has_lower,has_digit:data.has_digit,has_symbol:data.has_symbol};finish.disabled=false;status.textContent='Puedes finalizar el reto.';if(data.pwned_count>0){result.innerHTML+=alertBox(false,`La contraseña aparece en brechas (${data.pwned_count} veces).`);}else{result.innerHTML+=alertBox(true,'La contraseña no aparece en brechas conocidas.');}const checks=[[data.length>=12,`Longitud: ${data.length} (recomendado ≥ 12)`],[data.has_upper,'Contiene mayúsculas'],[data.has_lower,'Contiene minúsculas'],[data.has_digit,'Contiene números'],[data.has_symbol,'Contiene símbolos']];const list=checks.map(([ok,t])=>`<li class='${ok?'text-success':'text-warning'}'>${t}</li>`).join('');result.innerHTML+=`<ul class='mb-0'>${list}</ul>`;}catch(e){result.innerHTML=alertBox(false,'Error de red o servidor.');}});finish.addEventListener('click',async()=>{if(!lastCheck){result.innerHTML=alertBox(false,'Primero debes comprobar una contraseña.');return;}const wrapper=document.getElementById('practical-wrapper');const challengeId=wrapper?wrapper.dataset.challengeId:null;if(!challengeId){result.innerHTML=alertBox(false,'No se pudo identificar el reto.');return;}finish.disabled=true;try{const res=await fetch(`/challenge/${challengeId}/complete`,{method:'POST',credentials:'same-origin',headers:{'Content-Type':'application/json','X-CSRFToken':csrf()},body:JSON.stringify(lastCheck)});const data=await res.json();if(!data.ok){finish.disabled=false;result.innerHTML=alertBox(false,data.error||'No se pudo finalizar el reto.');return;}window.location.href=wrapper.dataset.redirectUrl||'/panel';}catch(e){finish.disabled=false;result.innerHTML=alertBox(false,'Error al guardar el reto.');}});})();</script>",
                "order_index": 1
              },
              {
                "title": "Filtración de información sensible",
                "question": null,
                "correct_answer": null,
                "options": [],
                "points": 10,
                "is_training": 1,
                "is_practical": 1,
                "content": "<div class=\"bg-dark rounded p-3\" id=\"practical-wrapper\" data-challenge-id=\"{{challenge.id}}\" data-redirect-url=\"{{redirect_url}}\">\n\n  <div class=\"mb-3 text-white\">\n   <strong> Te encuentras en una videoconferencia compartiendo pantalla y aparece un mensaje con información bancaria o sensible.\n    <br>\n   ¿Qué riesgos ves y qué harías para evitar filtrar datos?\n </strong> </div>\n\n  <div class=\"mb-3\">\n    <img src=\"/img/bank_sharescreen.png\" class=\"img-fluid rounded\" style=\"max-height: 320px; object-fit: contain; width: 100%;\" alt=\"Compartir pantalla con datos bancarios\">\n  </div>\n\n  <div class=\"mb-3\">\n    <label class=\"form-label text-white\">Introduce a continuación tu respuesta</label>\n    <textarea id=\"img_answer\" class=\"form-control bg-secondary text-white border-0\" rows=\"4\" placeholder=\"Escribe aquí tu respuesta...\"></textarea>\n  </div>\n\n  <div class=\"d-flex gap-2 flex-wrap\">\n    <button id=\"img_send\" class=\"btn btn-primary\">Enviar</button>\n  </div>\n\n  <div id=\"img_msg\" class=\"mt-3\"></div>\n</div>\n\n<script>\n(function(){\n  const wrapper = document.getElementById('practical-wrapper');\n  const btn = document.getElementById('img_send');\n  const answerEl = document.getElementById('img_answer');\n  const msg = document.getElementById('img_msg');\n\n  function csrf(){\n    const m = document.querySelector('meta[name=\\\"csrf-token\\\"]');\n    return m ? m.getAttribute('content') : '';\n  }\n\n  function show(ok, text){\n    msg.innerHTML = `<div class=\\\"alert ${ok ? 'alert-success' : 'alert-danger'} mb-0\\\">${text}</div>`;\n  }\n\n  btn.addEventListener('click', async () => {\n    const challengeId = wrapper ? wrapper.dataset.challengeId : null;\n    const redirectUrl = (wrapper && wrapper.dataset.redirectUrl) ? wrapper.dataset.redirectUrl : '/panel';\n    const answer = (answerEl.value || '').trim();\n\n    if (!answer){\n      show(false, 'Escribe una respuesta antes de enviar.');\n      return;\n    }\n\n    btn.disabled = true;\n    answerEl.disabled = true;\n\n    try{\n      const res = await fetch(`/challenge/${challengeId}/complete-info`, {\n        method: 'POST',\n        credentials: 'same-origin',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-CSRFToken': csrf()\n        },\n        body: JSON.stringify({ answer })\n      });\n\n      const data = await res.json();\n      if (!data.ok){\n        show(false, data.error || 'No se pudo guardar el reto.');\n        btn.disabled = false;\n        answerEl.disabled = false;\n        return;\n      }\n\n      show(true, 'Reto guardado. Redirigiendo...');\n      window.location.href = redirectUrl;\n    }catch(e){\n      show(false, 'Error de red o servidor.');\n      btn.disabled = false;\n      answerEl.disabled = false;\n    }\n  });\n})();\n</script>",
                "order_index": 2
              },
              {
                "title": "Filtración de información sensible",
                "question": null,
                "correct_answer": null,
                "options": [],
                "points": 10,
                "is_training": 1,
                "is_practical": 1,
                "content": "<div class=\"bg-dark rounded p-3\" id=\"practical-wrapper\" data-challenge-id=\"{{challenge.id}}\" data-redirect-url=\"{{redirect_url}}\">\n\n  <div class=\"mb-3 text-white\">\n   <strong> Sales del coche sin darte cuenta de que has olvidado la cartera y tu tarjeta queda expuesta.\n    <br>\n   ¿Qué riesgos hay y cómo los evitarías?\n </strong> </div>\n\n  <div class=\"mb-3\">\n    <img src=\"/img/creditcard_car.png\" class=\"img-fluid rounded\" style=\"max-height: 320px; object-fit: contain; width: 100%;\" alt=\"Tarjeta de crédito en el coche\">\n  </div>\n\n  <div class=\"mb-3\">\n    <label class=\"form-label text-white\">Introduce a continuación tu respuesta</label>\n    <textarea id=\"img_answer\" class=\"form-control bg-secondary text-white border-0\" rows=\"4\" placeholder=\"Escribe aquí tu respuesta...\"></textarea>\n  </div>\n\n  <div class=\"d-flex gap-2 flex-wrap\">\n    <button id=\"img_send\" class=\"btn btn-primary\">Enviar</button>\n  </div>\n\n  <div id=\"img_msg\" class=\"mt-3\"></div>\n</div>\n\n<script>\n(function(){\n  const wrapper = document.getElementById('practical-wrapper');\n  const btn = document.getElementById('img_send');\n  const answerEl = document.getElementById('img_answer');\n  const msg = document.getElementById('img_msg');\n\n  function csrf(){\n    const m = document.querySelector('meta[name=\\\"csrf-token\\\"]');\n    return m ? m.getAttribute('content') : '';\n  }\n\n  function show(ok, text){\n    msg.innerHTML = `<div class=\\\"alert ${ok ? 'alert-success' : 'alert-danger'} mb-0\\\">${text}</div>`;\n  }\n\n  btn.addEventListener('click', async () => {\n    const challengeId = wrapper ? wrapper.dataset.challengeId : null;\n    const redirectUrl = (wrapper && wrapper.dataset.redirectUrl) ? wrapper.dataset.redirectUrl : '/panel';\n    const answer = (answerEl.value || '').trim();\n\n    if (!answer){\n      show(false, 'Escribe una respuesta antes de enviar.');\n      return;\n    }\n\n    btn.disabled = true;\n    answerEl.disabled = true;\n\n    try{\n      const res = await fetch(`/challenge/${challengeId}/complete-info`, {\n        method: 'POST',\n        credentials: 'same-origin',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-CSRFToken': csrf()\n        },\n        body: JSON.stringify({ answer })\n      });\n\n      const data = await res.json();\n      if (!data.ok){\n        show(false, data.error || 'No se pudo guardar el reto.');\n        btn.disabled = false;\n        answerEl.disabled = false;\n        return;\n      }\n\n      show(true, 'Reto guardado. Redirigiendo...');\n      window.location.href = redirectUrl;\n    }catch(e){\n      show(false, 'Error de red o servidor.');\n      btn.disabled = false;\n      answerEl.disabled = false;\n    }\n  });\n})();\n</script>",
                "order_index": 3
              },
              {
                "title": "Filtración de información sensible",
                "question": null,
                "correct_answer": null,
                "options": [],
                "points": 10,
                "is_training": 1,
                "is_practical": 1,
                "content": "<div class=\"bg-dark rounded p-3\" id=\"practical-wrapper\" data-challenge-id=\"{{challenge.id}}\" data-redirect-url=\"{{redirect_url}}\">\n\n  <div class=\"mb-3 text-white\">\n   <strong> Una influencer sube una foto a las redes sociales y, sin darse cuenta, se ve una tarjeta de crédito en la imagen.\n    <br>\n   ¿Qué riesgos ves y qué medidas tomarías antes de publicar una imagen así?\n </strong> </div>\n\n  <div class=\"mb-3\">\n    <img src=\"/img/creditcard_influencer.png\" class=\"img-fluid rounded\" style=\"max-height: 320px; object-fit: contain; width: 100%;\" alt=\"Tarjeta de crédito en una foto\">\n  </div>\n\n  <div class=\"mb-3\">\n    <label class=\"form-label text-white\">Introduce a continuación tu respuesta</label>\n    <textarea id=\"img_answer\" class=\"form-control bg-secondary text-white border-0\" rows=\"4\" placeholder=\"Escribe aquí tu respuesta...\"></textarea>\n  </div>\n\n  <div class=\"d-flex gap-2 flex-wrap\">\n    <button id=\"img_send\" class=\"btn btn-primary\">Enviar</button>\n  </div>\n\n  <div id=\"img_msg\" class=\"mt-3\"></div>\n</div>\n\n<script>\n(function(){\n  const wrapper = document.getElementById('practical-wrapper');\n  const btn = document.getElementById('img_send');\n  const answerEl = document.getElementById('img_answer');\n  const msg = document.getElementById('img_msg');\n\n  function csrf(){\n    const m = document.querySelector('meta[name=\\\"csrf-token\\\"]');\n    return m ? m.getAttribute('content') : '';\n  }\n\n  function show(ok, text){\n    msg.innerHTML = `<div class=\\\"alert ${ok ? 'alert-success' : 'alert-danger'} mb-0\\\">${text}</div>`;\n  }\n\n  btn.addEventListener('click', async () => {\n    const challengeId = wrapper ? wrapper.dataset.challengeId : null;\n    const redirectUrl = (wrapper && wrapper.dataset.redirectUrl) ? wrapper.dataset.redirectUrl : '/panel';\n    const answer = (answerEl.value || '').trim();\n\n    if (!answer){\n      show(false, 'Escribe una respuesta antes de enviar.');\n      return;\n    }\n\n    btn.disabled = true;\n    answerEl.disabled = true;\n\n    try{\n      const res = await fetch(`/challenge/${challengeId}/complete-info`, {\n        method: 'POST',\n        credentials: 'same-origin',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-CSRFToken': csrf()\n        },\n        body: JSON.stringify({ answer })\n      });\n\n      const data = await res.json();\n      if (!data.ok){\n        show(false, data.error || 'No se pudo guardar el reto.');\n        btn.disabled = false;\n        answerEl.disabled = false;\n        return;\n      }\n\n      show(true, 'Reto guardado. Redirigiendo...');\n      window.location.href = redirectUrl;\n    }catch(e){\n      show(false, 'Error de red o servidor.');\n      btn.disabled = false;\n      answerEl.disabled = false;\n    }\n  });\n})();\n</script>",
                "order_index": 4
              },
              {
                "title": "Filtración de credenciales",
                "question": "¿Se ha visto tu contraseña comprometida en alguna brecha de seguridad?",
                "correct_answer": "No, mi contraseña no ha aparecido en ninguna brecha",
                "options": [
                  "Sí, se ha visto comprometida",
                  "No, mi contraseña no ha aparecido en ninguna brecha"
                ],
                "points": 10,
                "is_training": 1,
                "is_practical": 0,
                "content": null,
                "order_index": 5
              },
              {
                "title": "Filtración de credenciales",
                "question": "¿Qué deberías hacer tras una filtración de datos?",
                "correct_answer": "Cambiar contraseñas y revisar información sensible",
                "options": [
                  "No hacer nada",
                  "Publicarlo en redes sociales",
                  "Reutilizar la misma contraseña",
                  "Cambiar contraseñas y revisar información sensible"
                ],
                "points": 10,
                "is_training": 1,
                "is_practical": 0,
                "content": null,
                "order_index": 6
              }
            ],
            "post": [
              {
                "title": "Filtración de credenciales",
                "question": "Tras una filtración de contraseñas, ¿cuál es la actuación más recomendable?",
                "correct_answer": "Cambiar la contraseña afectada y evitar su reutilización",
                "options": [
                  "Ignorar el incidente",
                  "Reutilizar la misma contraseña",
                  "Cambiar la contraseña afectada y evitar su reutilización",
                  "Compartir la nueva contraseña con terceros"
                ],
                "points": 10,
                "is_training": 0,
                "is_practical": 0,
                "content": null,
                "order_index": 1
              }
            ]
          }
        }
      ]
    },

    {
      "category_code": "social_engineering",
      "title": "Ingeniería Social",
      "order_index": 3,
      "subcategories": [
        {
          "subcategory_code": "social_qr",
          "title": "Códigos QR",
          "order_index": 1,
          "challenges": {
            "pre": [
              {
                "title": "Códigos QR",
                "question": "¿Cuál es un riesgo típico de los códigos QR?",
                "correct_answer": "Redirigir a webs falsas o maliciosas",
                "options": [
                  "Mejorar la batería del móvil",
                  "Redirigir a webs falsas o maliciosas",
                  "Aumentar la velocidad de Internet",
                  "Aumentar el almacenamiento"
                ],
                "points": 10,
                "is_training": 1,
                "is_practical": 0,
                "content": null,
                "order_index": 1
              }
            ],
            "post": [
              {
                "title": "Códigos QR",
                "question": "Antes de escanear un código QR, ¿qué verificación es recomendable realizar?",
                "correct_answer": "Comprobar el contexto, el origen y la dirección de destino",
                "options": [
                  "Escanearlo sin revisar su procedencia",
                  "Comprobar el contexto, el origen y la dirección de destino",
                  "Compartirlo con otros usuarios",
                  "Desactivar el dispositivo"
                ],
                "points": 10,
                "is_training": 0,
                "is_practical": 0,
                "content": null,
                "order_index": 1
              }
            ]
          }
        },
        {
          "subcategory_code": "social_calls",
          "title": "Llamadas fraudulentas",
          "order_index": 2,
          "challenges": {
            "pre": [
              {
                "title": "Llamadas fraudulentas",
                "question": "Una táctica común en llamadas fraudulentas es…",
                "correct_answer": "Crear urgencia y pedir datos personales",
                "options": [
                  "Ofrecer regalos sin más",
                  "Crear urgencia y pedir datos personales",
                  "Decirte que te relajes",
                  "No decir nada"
                ],
                "points": 10,
                "is_training": 1,
                "is_practical": 0,
                "content": null,
                "order_index": 1
              }
            ],
            "post": [
              {
                "title": "Llamadas fraudulentas",
                "question": "Si se recibe una llamada solicitando información personal de forma urgente, ¿cuál es la respuesta más adecuada?",
                "correct_answer": "Finalizar la llamada y verificar la información por canales oficiales",
                "options": [
                  "Facilitar los datos solicitados",
                  "Finalizar la llamada y verificar la información por canales oficiales",
                  "Enviar documentación personal por mensajería",
                  "Continuar la conversación para obtener más información"
                ],
                "points": 10,
                "is_training": 0,
                "is_practical": 0,
                "content": null,
                "order_index": 1
              }
            ]
          }
        },
        {
          "subcategory_code": "social_wifi",
          "title": "Conexiones WI-FI",
          "order_index": 3,
          "challenges": {
            "pre": [
              {
                "title": "Conexiones WI-FI",
                "question": "El principal riesgo del Wi-Fi público suele ser…",
                "correct_answer": "Intercepción del tráfico (robo de información)",
                "options": [
                  "Que consuma más RAM",
                  "Intercepción del tráfico (robo de información)",
                  "Mejorar la cámara",
                  "Mejorar el GPS"
                ],
                "points": 10,
                "is_training": 1,
                "is_practical": 0,
                "content": null,
                "order_index": 1
              }
            ],
            "post": [
              {
                "title": "Conexiones WI-FI",
                "question": "En el uso de redes Wi-Fi públicas, ¿qué medida reduce de forma más eficaz el riesgo de seguridad?",
                "correct_answer": "Evitar operaciones sensibles o utilizar una red privada virtual (VPN)",
                "options": [
                  "Acceder a servicios bancarios sin restricciones",
                  "Evitar operaciones sensibles o utilizar una red privada virtual (VPN)",
                  "Compartir la red con otros usuarios",
                  "Desactivar las medidas de seguridad"
                ],
                "points": 10,
                "is_training": 0,
                "is_practical": 0,
                "content": null,
                "order_index": 1
              }
            ]
          }
        },
        {
          "subcategory_code": "social_sensitive_info",
          "title": "Gestión de información sensible",
          "order_index": 4,
          "challenges": {
            "pre": [
              {
                "title": "Gestión de información sensible",
                "question": "¿Qué es información sensible?",
                "correct_answer": "Datos que pueden identificarte o afectar tu privacidad",
                "options": [
                  "El tiempo",
                  "Un meme",
                  "Datos que pueden identificarte o afectar tu privacidad",
                  "Una canción"
                ],
                "points": 10,
                "is_training": 1,
                "is_practical": 0,
                "content": null,
                "order_index": 1
              },
              {
                "title": "Gestión de información sensible",
                "question": "¿Bloqueas tu ordenador o dispositivo móvil cuando lo dejas sin supervisión?",
                "correct_answer": "Siempre me aseguro de bloquearlo",
                "options": [
                  "Siempre me aseguro de bloquearlo",
                  "Depende de la situación, a veces se me olvida",
                  "Nunca utilizo métodos de bloqueo"
                ],
                "points": 10,
                "is_training": 1,
                "is_practical": 0,
                "content": null,
                "order_index": 2
              }
            ],
            "post": [
              {
                "title": "Gestión de información sensible",
                "question": "¿Cuál es una buena práctica en la gestión de información sensible?",
                "correct_answer": "Compartir únicamente la información necesaria y con los destinatarios adecuados",
                "options": [
                  "Publicarla en redes sociales",
                  "Compartir únicamente la información necesaria y con los destinatarios adecuados",
                  "Enviar datos sin verificar",
                  "Utilizar siempre redes públicas"
                ],
                "points": 10,
                "is_training": 0,
                "is_practical": 0,
                "content": null,
                "order_index": 1
              }
            ]
          }
        }
      ]
    },

    {
      "category_code": "phishing",
      "title": "Phishing",
      "order_index": 4,
      "subcategories": [
        {
          "subcategory_code": "phish_recognition",
          "title": "Reconocimiento de webs y correos fraudulentos",
          "order_index": 1,
          "challenges": {
            "pre": [
              {
                "title": "Propagación de malware",
                "question": "¿A través de qué medio consideras que se puede propagar un malware?",
                "correct_answer": "Todas las anteriores",
                "options": [
                  "Dispositivos usb u otros dispositivos externos",
                  "Archivos adjuntos en correos electrónicos",
                  "Enlaces, descargas o aplicaciones obtenidas desde páginas web o internet",
                  "Todas las anteriores"
                ],
                "points": 10,
                "is_training": 1,
                "is_practical": 0,
                "content": null,
                "order_index": 1
              },
              {
                "title": "Reconocimiento de webs y correos fraudulentos",
                "question": "Una señal típica de phishing es…",
                "correct_answer": "Enlaces o dominios sospechosos",
                "options": [
                  "Un dominio oficial y correcto",
                  "Enlaces o dominios sospechosos",
                  "Que no haya enlaces",
                  "Que siempre tenga ortografía perfecta"
                ],
                "points": 10,
                "is_training": 1,
                "is_practical": 0,
                "content": null,
                "order_index": 2
              }
            ],
            "post": [
              {
                "title": "Reconocimiento de webs y correos fraudulentos",
                "question": "Si un correo solicita el acceso a través de un enlace sospechoso, ¿cuál es la actuación correcta?",
                "correct_answer": "No acceder al enlace y comprobar la información desde la web o aplicación oficial",
                "options": [
                  "Acceder al enlace para comprobarlo",
                  "No acceder al enlace y comprobar la información desde la web o aplicación oficial",
                  "Reenviarlo a otros usuarios",
                  "Responder facilitando los datos solicitados"
                ],
                "points": 10,
                "is_training": 0,
                "is_practical": 0,
                "content": null,
                "order_index": 1
              }
            ]
          }
        }
      ]
    },

    {
      "category_code": "devices",
      "title": "Dispositivos",
      "order_index": 5,
      "subcategories": [
        {
          "subcategory_code": "dev_security",
          "title": "Seguridad en dispositivos",
          "order_index": 1,
          "challenges": {
            "pre": [
              {
                "title": "Bloqueo de dispositivos",
                "question": "¿Bloqueas tu ordenador o dispositivo móvil cuando lo dejas sin supervisión?",
                "correct_answer": "Siempre me aseguro de bloquearlo",
                "options": [
                  "Siempre me aseguro de bloquearlo",
                  "Depende de la situación, a veces se me olvida",
                  "Nunca utilizo métodos de bloqueo"
                ],
                "points": 10,
                "is_training": 1,
                "is_practical": 0,
                "content": null,
                "order_index": 1
              },
              {
                "title": "Seguridad en dispositivos",
                "question": "Una medida básica de protección del dispositivo es…",
                "correct_answer": "Bloqueo de pantalla y actualizaciones",
                "options": [
                  "No usar contraseña",
                  "Bloqueo de pantalla y actualizaciones",
                  "Compartir el PIN",
                  "No actualizar nunca"
                ],
                "points": 10,
                "is_training": 1,
                "is_practical": 0,
                "content": null,
                "order_index": 2
              }
            ],
            "post": [
              {
                "title": "Seguridad en dispositivos",
                "question": "¿Qué combinación de medidas proporciona una mayor protección a un dispositivo?",
                "correct_answer": "Bloqueo robusto, actualizaciones periódicas y copias de seguridad",
                "options": [
                  "No usar bloqueo ni actualizaciones",
                  "Bloqueo robusto, actualizaciones periódicas y copias de seguridad",
                  "Cambiar únicamente el fondo de pantalla",
                  "Compartir el código de acceso"
                ],
                "points": 10,
                "is_training": 0,
                "is_practical": 0,
                "content": null,
                "order_index": 1
              }
            ]
          }
        },
        {
          "subcategory_code": "dev_updates",
          "title": "Gestión de actualizaciones y parches de seguridad",
          "order_index": 2,
          "challenges": {
            "pre": [
              {
                "title": "Gestión de actualizaciones y parches de seguridad",
                "question": "¿Por qué es importante actualizar el software?",
                "correct_answer": "Porque corrige vulnerabilidades",
                "options": [
                  "Porque lo hace más lento",
                  "Porque corrige vulnerabilidades",
                  "Porque cambia el fondo de pantalla",
                  "Porque borra aplicaciones"
                ],
                "points": 10,
                "is_training": 1,
                "is_practical": 0,
                "content": null,
                "order_index": 1
              }
            ],
            "post": [
              {
                "title": "Gestión de actualizaciones y parches de seguridad",
                "question": "¿Qué riesgo se incrementa al no aplicar actualizaciones de seguridad?",
                "correct_answer": "La explotación de vulnerabilidades ya conocidas",
                "options": [
                  "La mejora del rendimiento",
                  "La explotación de vulnerabilidades ya conocidas",
                  "El aumento del almacenamiento",
                  "La mejora de la calidad de imagen"
                ],
                "points": 10,
                "is_training": 0,
                "is_practical": 0,
                "content": null,
                "order_index": 1
              }
            ]
          }
        },
        {
          "subcategory_code": "dev_byod",
          "title": "BYOD - Políticas y riesgos",
          "order_index": 3,
          "challenges": {
            "pre": [
              {
                "title": "BYOD - Políticas y riesgos",
                "question": "BYOD significa…",
                "correct_answer": "Bring Your Own Device (trae tu propio dispositivo)",
                "options": [
                  "Buy Your Own Data (compra tus datos)",
                  "Bring Your Own Device (trae tu propio dispositivo)",
                  "Backup Your OS Daily (copia el SO a diario)",
                  "Block Your Old Device (bloquea tu dispositivo antiguo)"
                ],
                "points": 10,
                "is_training": 1,
                "is_practical": 0,
                "content": null,
                "order_index": 1
              }
            ],
            "post": [
              {
                "title": "BYOD - Políticas y riesgos",
                "question": "¿Cuál es un riesgo habitual asociado a políticas BYOD mal gestionadas?",
                "correct_answer": "La mezcla de datos personales y corporativos sin controles adecuados",
                "options": [
                  "Mejorar la autonomía del dispositivo",
                  "La mezcla de datos personales y corporativos sin controles adecuados",
                  "Incrementar la calidad de la conexión",
                  "Reducir los costes de mantenimiento"
                ],
                "points": 10,
                "is_training": 0,
                "is_practical": 0,
                "content": null,
                "order_index": 1
              }
            ]
          }
        }
      ]
    },

    {
      "category_code": "data_protection",
      "title": "Protección de Datos",
      "order_index": 6,
      "subcategories": [
        {
          "subcategory_code": "dp_principles",
          "title": "Principios básicos",
          "order_index": 1,
          "challenges": {
            "pre": [
              {
                "title": "Principios básicos",
                "question": "Un principio básico de protección de datos es…",
                "correct_answer": "Minimización de datos (recoger solo lo necesario)",
                "options": [
                  "Compartirlo todo",
                  "Minimización de datos (recoger solo lo necesario)",
                  "No hace falta consentimiento",
                  "No cifrar nunca"
                ],
                "points": 10,
                "is_training": 1,
                "is_practical": 0,
                "content": null,
                "order_index": 1
              }
            ],
            "post": [
              {
                "title": "Principios básicos",
                "question": "¿Qué implica el principio de minimización de datos?",
                "correct_answer": "Recoger únicamente los datos necesarios para el fin previsto",
                "options": [
                  "Recoger todos los datos posibles",
                  "Recoger únicamente los datos necesarios para el fin previsto",
                  "Compartir datos sin restricciones",
                  "Conservar los datos de forma indefinida"
                ],
                "points": 10,
                "is_training": 0,
                "is_practical": 0,
                "content": null,
                "order_index": 1
              }
            ]
          }
        }
      ]
    }
  ]
}
